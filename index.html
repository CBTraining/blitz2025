<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini on Android Tablets Blitz 2025</title>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8RWRX098B"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8RWRX098B');
</script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <style>
        @keyframes icon-animate {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.3) translateY(0);
            }

            30% {
                opacity: .5;
                transform: translate(-50%, -50%) scale(1.0) translateY(-20px);
            }

            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(2.0) translateY(-100px);
            }
        }

        .animated-icon {
            position: absolute;
            animation: icon-animate 4s ease-in-out forwards;
            pointer-events: none;
            z-index: 15;
        }

        @font-face {
            font-family: 'Google Sans', sans-serif;
            src: url('googlesans-regular.ttf') format('truetype');
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }

        #content {
            height: 50vh;
            padding-top: 100vh;
            background-color: #fdfdfd;
            text-align: center;
        }

        #sticky-header {
            position: static;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 900;
            background-color: #fdfdfd;
        }

        @keyframes fadeInSlide {

            /* Starting state (0%) */
            0% {
                opacity: 0;
                top: -20px;
            }

            /* Ending state (100%) */
            100% {
                opacity: .6;
                top: 0px;
            }
        }

        .header-video-background {
            position: absolute;
            top: -30px;
            left: 0;
            width: 100%;
            height: 20vw;
            z-index: -10;
            opacity: 0;
            object-fit: cover;
            display: block;
            animation: fadeInSlide 2s ease-out 0.5s forwards;
        }

        .header-logo {
            display: block;
            margin: 0 auto;
            max-width: 600px;
            width: 40vw;
            padding-top: 7rem;
            padding-bottom: 7rem;
            z-index: 920;
            opacity: 0;
            transform: translateY(0) scale(1.2);
            position: relative;
            animation: fadeInShrink 2s ease-out 0.5s forwards;
        }

        @media (max-width: 600px) {
            .header-logo {
                width: 70vw;
            }
        }

        @keyframes fadeInShrink {
            0% {
                opacity: 0;
                transform: translateY(0) scale(1.2);
            }

            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        body {
            font-family: 'Google Sans', sans-serif;
            background-color: #fdfdfd;
        }

        h1#page-title {
            font-weight: 700;
            color: #202124;
            font-size: 3.75rem;
            line-height: 1;
        }

        @media (min-width: 768px) {
            h1#page-title {
                font-size: 4.5rem;
                line-height: 1;
            }
        }

        p#page-subtitle {
            font-weight: 400;
            color: #4a5568;
            font-size: 1.5rem;
            line-height: 2rem;
        }

        @media (min-width: 768px) {
            p#page-subtitle {
                font-size: 1.875rem;
                line-height: 2.25rem;
            }
        }

        #hero-image {
            max-width: 56rem;
        }

        header#page-content-header {
            margin-bottom: 2.5rem;
            padding-top: 2rem;
        }

        @media (min-width: 768px) {
            header#page-content-header {
                margin-bottom: 3rem;
                padding-top: 3rem;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        header#page-content-header #page-title,
        header#page-content-header #page-subtitle,
        header#page-content-header #hero-image {
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
        }

        header#page-content-header #page-subtitle {
            animation-delay: 0.1s;
        }

        header#page-content-header #hero-image {
            animation-delay: 0.2s;
        }

        #info-section {
            background-color: transparent;
            border-radius: 1.25rem;
            padding-top: 1rem;
            margin-bottom: 1.5rem;
            margin-left: auto;
            margin-right: auto;
            display: flex;
            flex-direction: column;
            width: 90%;
            gap: 1.5rem;
            opacity: 0;
            animation: fadeInUp 0.6s ease-out 0.3s forwards;
            margin: 0 auto 1.5rem auto;
            position: relative;
            z-index: 901;
            flex-basis: 50% align-items: center;
        }

        @media (min-width: 768px) {
            #info-section {
                flex-direction: row;
                flex-basis: 50% align-items: center;
                padding: 1.5rem;
                margin: 0 auto 1.5rem auto;
            }
        }

        #info-text-content {
            flex: 1 1 50%;
            color: #3C4043;
            text-align: center;
            flex-wrap: wrap;
            flex-basis: 50%;
            font-size: 16px;
        }

        @media (max-width: 600px) {
            #info-text-content {
                /* Smaller font size for mobile */
                font-size: 2px;
            }
        }

        #info-text-content h2 {
            font-size: 1.875rem;
            font-weight: 600;
            margin-bottom: 1.25rem;
            line-height: 1.2;
            flex-basis: 50%
        }

        #info-text-content p {
            font-size: 1rem;
            line-height: 1.5;
            margin-bottom: 0.5rem;
            opacity: 0;
            animation: fadeInUp 0.6s ease-out forwards;
        }

        #info-text-content p:nth-child(2) {
            animation-delay: 0.8s;
        }

        #info-text-content p:nth-child(3) {
            animation-delay: 1.1s;
        }

        #info-text-content p:nth-child(4) {
            animation-delay: 1.4s;
        }

        #info-text-content p strong {
            font-weight: 700;
            font-size: 2.0rem;
            background: linear-gradient(to right, #3185FF, #366CF1, #3185FF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: color-cycle 4s linear infinite;
            display: inline-block;
            margin-right: 0.35rem;
            line-height: 1;
            vertical-align: baseline;
        }

        @keyframes pulse-gradient {
            0% {
                /* Scale slightly smaller */
                transform: translate(-50%, -50%) scale(0.98);
                opacity: 0.8;
            }

            100% {
                /* Scale slightly larger for the pulse */
                transform: translate(-50%, -50%) scale(1.02);
                opacity: 1;
            }
        }

        .video-item {
            /* Set element's position to relative for the absolute pseudo-element */
            position: relative;
            z-index: 1;
            /* Keep the item above its glow */

            /* Ensure 'overflow: hidden' is NOT set, or the glow will be cut off! */
            overflow: visible !important;

            /* Consolidated transition rule */
            transition: transform 0.3s ease-in-out, opacity 0.5s ease-out, transform 0.5s ease-out;

            /* Other existing properties... */
            opacity: 0;
            transform: translateY(10px);
            max-width: 40vw;
            cursor: pointer;
            background-color: #ffffff;
            border-radius: 0.5rem;

            /* Remove the old box-shadow so it doesn't conflict */
            box-shadow: none;
        }

        .video-item::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            /* Must be larger than the element to create the outline */
            width: 102%;
            height: 102%;
            z-index: -1;
            /* Place the pseudo-element behind the main item */
            border-radius: 0.5rem;

            /* Apply the Google Gradient */
            background: linear-gradient(45deg,
                    #4285F4,
                    /* Blue */
                    #EA4335,
                    /* Red */
                    #FBBC04,
                    /* Yellow */
                    #34A853
                    /* Green */
                );

            /* Apply a blur filter for the "outline" glow effect */
            filter: blur(10px);

            /* Transition for smooth stop/start */
            transition: all 0.3s ease-in-out;

            /* Initial state before hover */
            transform: translate(-50%, -50%) scale(0.95);
            opacity: 0;
        }

        .video-item:hover::before {
            /* Show and expand the pseudo-element on hover */
            opacity: 1;

            /* Start the pulsing animation */
            animation-name: pulse-gradient;
            animation-duration: 1.5s;
            animation-iteration-count: infinite;
            animation-direction: alternate;
            animation-timing-function: ease-in-out;
        }

        .video-item:hover {
            transform: translateY(-2px);
        }

        .video-item.visible {
            opacity: 1;
            transform: translateY(0);
        }

        #loading-indicator {
            display: none;
            text-align: center;
            padding: 2rem;
            font-style: italic;
            color: #6b7280;
            font-size: 1rem;
            z-index: 1000;
        }

        #video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            padding: 2rem;
            margin: 0 auto;
            transition: opacity 0.3s ease-in-out;
            align-items: center;
            justify-content: center;
            width: 80%;
        }

        #scrollable-content {
            padding: 0;
            margin-top: 0;
        }

        @media (max-width: 768px) {
            #video-grid {
                padding: 0 1rem;
                grid-template-columns: 1fr;
                width: 80%;
            }
        }

        #video-grid.grid-loading {
            opacity: 0.3;
            pointer-events: none;
        }

        .thumbnail-container {
            display: block;
            aspect-ratio: 14 / 12;
            background-color: #000000;
            overflow: hidden;
            position: relative;
            top: 0px;
            border-radius: 0.5rem;
            transition: transform 0.3s ease-in-out;
            width: 100%;
        }

        .video-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* Transition for image fade out */
            transition: opacity 0.3s ease-in-out;
        }

        .video-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .video-item.hovered .video-placeholder {
            opacity: 0;
            pointer-events: none;
        }

        .video-item iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            display: block;
            z-index: 2;
            pointer-events: none;
        }

        .video-item:not(.hovered) iframe {
            display: none;
        }

        .filter-button .subtext {
            display: block;
            font-size: 0.75rem;
            font-weight: 400;
            opacity: 0.8;
            margin-top: -0.1rem;
        }

        .overlay-title {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #4285F4;
            color: white;
            padding: 0.75rem 1rem;
            opacity: 1;
            transition: opacity 0.3s ease-in-out;
            pointer-events: none;
            font-size: 1rem;
            line-height: 1.35;
            font-weight: 400;
            white-space: normal;
            overflow-wrap: break-word;
            max-height: 80%;
            overflow-y: auto;
            border-bottom-left-radius: 0.5rem;
            border-bottom-right-radius: 0.5rem;
            font-size: 0.875rem;
            line-height: 1.25;
            max-height: 75%;
            z-index: 3;
        }

        .video-item:hover .thumbnail-container {
            transform: scale(1.03);
        }

        #filter-search-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 1rem;
            background-color: transparent;
            border-radius: 0;
            box-shadow: none;
            flex-wrap: wrap;
            position: relative;
            max-width: 50%;
            margin-left: auto;
            margin-right: auto;
            overflow: visible;
            z-index: 901;
        }

        @media (max-width: 768px) {
            #filter-search-controls {
                margin: 0 1rem 2.5rem 1rem;
                flex-direction: column;
                justify-content: center;
                align-items: stretch;
            }
        }

        #filter-buttons {
            display: flex;
            justify-content: center;
            flex-grow: 1;
            flex-wrap: wrap;
            transition: opacity 0.2s ease-in-out 0.1s;
            gap: 0.5rem;
            padding-right: 0.5rem;
            margin-right: 0;
            min-width: 0;
            opacity: 1;
            position: relative;
            z-index: 1;
        }

        @media (min-width: 768px) {
            #filter-buttons {
                margin-right: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            #filter-buttons {
                width: 80%;
                margin-bottom: 1rem;
                padding-right: 0;
            }
        }

        .filter-button {
            padding: 0.6rem 1.25rem;
            font-size: 1rem;
            border: 1px solid #1a73e8;
            background-color: transparent;
            color: #1a73e8;
            border-radius: 0.5rem;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease-in-out;
            white-space: nowrap;
            text-align: center;
            flex-shrink: 1;
            font-family: 'Google Sans', sans-serif;
        }

        .filter-button.active {
            background-color: #1a73e8;
            color: white;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(26, 115, 232, 0.4);
        }

        #filter-search-controls:not(.search-active) .filter-button:not(.active):hover {
            background-color: #e8f0fe;
            color: #1a73e8;
        }

        .filter-button:not(.active):hover {
            background-color: #e8f0fe;
            color: #1a73e8;
            border: 1px solid #1a73e8;
        }

        #search-container {
            display: flex;
            align-items: center;
            flex-shrink: 0;
            justify-content: flex-end;
            min-width: 44px;
            position: relative;
            z-index: 5;
            margin-left: 0;
            text-align: center;
        }

        @media (max-width: 768px) {
            #search-container {
                width: 100%;
                justify-content: center;
            }

            #filter-search-controls.search-active #search-input {
                width: 90vw !important;
                max-width: 300px;
                margin: 1.5rem;
                padding: 1.5rem 1.5rem 1.5rem 1.5rem;
            }
        }

        #search-icon-button {
            order: 2;
            background: none;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s ease-in-out;
            z-index: 6;
            flex-shrink: 0;
            pointer-events: none;
        }

        #filter-search-controls:not(.search-active) #search-icon-button:hover {
            background-color: #f1f3f4;
        }

        #search-icon-button svg {
            width: 22px;
            height: 22px;
            fill: #5f6368;
        }

        #search-input {
            font-size: 1.125rem;
            padding: 1rem 1rem 1rem 1rem;
            order: 1;
            border: none;
            outline: none;
            border-radius: 9999px;
            background-color: transparent;
            width: 0;
            opacity: 0;
            transition: width 0.3s ease-in-out, opacity 0.2s ease-in-out, background-color 0.3s ease-in-out;
            z-index: 4;
            font-weight: 400;
            color: #3C4043;
            min-width: 0;
            font-family: 'Google Sans', sans-serif;
            height: 100%;
        }

        #search-input::placeholder {
            color: #80868b;
        }

        #filter-search-controls.search-active #filter-buttons {
            transition: opacity 0.15s ease-out;
        }

        #filter-search-controls.search-active #search-input {
            opacity: 1;
            width: 300px;
            margin-top: 1rem;
            background-color: #f1f3f4;
            transition: width 0.3s ease-in-out 0.05s, opacity 0.2s ease-in-out 0.1s, background-color 0.3s ease-in-out 0.05s;
        }

        @media (max-width: 768px) {
            #filter-search-controls.search-active #search-input {
                margin-top: 1rem;
                margin-bottom: 1rem;
            }
        }

        .hidden {
            display: none !important;
        }

        #no-results-message {
            display: none;
            text-align: center;
            padding: 2rem;
            font-style: italic;
            color: #6b7280;
            grid-column: 1 / -1;
            font-size: 1rem;
        }

        #end-of-content-message {
            font-size: 1rem;
            padding: 2rem;
            text-align: center;
            color: #6b7280;
            grid-column: 1 / -1;
            display: none;
        }

        .highlight-gradient {
            background: linear-gradient(to right, #327efb, #356df2, #327efb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: color-cycle 4s linear infinite;
            display: inline;
            font-weight: 700;
        }

        #video-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 1rem;
            box-sizing: border-box;
            /* FADE-IN STYLES */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
        }

        #video-modal.modal-visible {
            opacity: 1;
            visibility: visible;
        }

        #modal-content {
            position: relative;
            width: 95%;
            aspect-ratio: 16 / 9;
            max-width: 1280px;
            overflow: hidden;
            background-color: #000;
            border-radius: 0.5rem;
            margin: 0 auto;
        }

        #video-player-iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
            border-radius: 0.5rem;
        }

        #modal-video-title {
            width: 95%;
            max-width: 1280px;
            margin: 1rem auto 0 auto;
            color: #e5e7eb;
            font-size: 1.1rem;
            font-weight: 500;
            text-align: center;
            padding: 0 1rem;
            box-sizing: border-box;
            line-height: 1.4;
        }

        .modal-button {
            position: absolute;
            color: white;
            border: none;
            background: rgba(60, 60, 60, 0.6);
            padding: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease, opacity 0.3s ease;
            z-index: 1010;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-button:hover {
            background-color: rgba(90, 90, 90, 0.8);
        }

        .modal-button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            background-color: rgba(60, 60, 60, 0.4);
        }

        .modal-button svg {
            width: 24px;
            height: 24px;
            fill: white;
        }

        #prev-video {
            top: 50%;
            left: max(10px, 1%);
            transform: translateY(-50%);
        }

        #next-video {
            top: 50%;
            right: max(10px, 1%);
            transform: translateY(-50%);
        }

        #close-modal {
            top: max(10px, 1%);
            right: max(10px, 1%);
            font-size: 28px;
            width: 40px;
            height: 40px;
            line-height: 1;
        }

        body.modal-open {
            overflow: hidden;
        }

        #scroll-down-button {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #1a73e8;
            color: white;
            border: none;
            border-radius: 9999px;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            line-height: 1.25rem;
            display: none;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            white-space: nowrap;
        }

        #scroll-down-button.visible {
            opacity: 1;
            visibility: visible;
        }

        @media (max-width: 768px) {
            #scroll-down-button {
                display: flex;
            }

            #info-text-content h2 {
                text-align: center;
            }

            #info-text-content strong {
                font-size: 2rem;
                /* Adjusted for mobile */
            }

            .stat-label {
                font-size: 0.85rem;
            }
        }

        @media (max-width: 1023px) {
            #video-modal {
                padding: 0.5rem;
            }

            #modal-content {
                width: 100%;
            }

            #modal-video-title {
                width: 100%;
                font-size: 1rem;
                margin-top: 0.75rem;
            }

            #prev-video {
                left: 5px;
                padding: 8px;
            }

            #next-video {
                right: 5px;
                padding: 8px;
            }

            #close-modal {
                top: 5px;
                right: 5px;
                width: 36px;
                height: 36px;
                font-size: 24px;
            }

            .modal-button svg {
                width: 20px;
                height: 20px;
            }

            #video-grid {
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                gap: 1.3rem;
            }

            h1#page-title {
                font-size: 2.4rem;
            }

            p#page-subtitle {
                font-size: 1.125rem;
            }

            #filter-search-controls {
                max-width: 95%;
                padding: 0.5rem 0.75rem;
                margin-bottom: 2.5rem;
                display: flex;
                flex-direction: column;
                gap: 1rem;
            }

            #filter-buttons {
                justify-content: space-around;
                margin-right: 0.5rem;
                gap: 0.5rem;
                flex-basis: 50% align-items: center;
                CCCC
            }

            .filter-button::after {
                content: attr(data-description);
                position: absolute;
                bottom: 100%;
                left: 50%;
                transform: translateX(-50%);
                z-index: 1000;
                min-width: 150px;
                max-width: 250px;
                padding: 8px 12px;
                margin-bottom: 10px;
                background-color: #333;
                color: white;
                text-align: center;
                border-radius: 4px;
                font-size: 0.85rem;
                line-height: 1.3;
                z-index: 800;
                visibility: hidden;
                opacity: 0;
                transition: opacity 0.3s, visibility 0.3s;
            }

            .filter-button:hover::after {
                visibility: visible;
                opacity: 1;
            }

            .filter-button {
                padding: 0.8rem 0.8rem;
                font-size: 0.85rem;
                position: relative;
            }

            #search-icon-button svg {
                width: 0px;
                height: 0px;
            }

            #search-input {
                font-size: 0.9rem;
                padding: 0.5rem 0.75rem;
            }

            #filter-search-controls.search-active #search-input {
                width: 300px;
            }

            #hero-image {
                max-width: 90%;
            }

            #info-section {
                padding: 1.5rem;
                margin-bottom: 2rem;
                border-radius: 1rem;
            }

            #info-text-content h2 {
                font-size: 1.5rem;
            }

            #info-text-content p {
                font-size: 1rem;
            }

            #info-text-content p strong {
                font-size: 1.875rem;
            }

            body {
                padding-top: 0px;
            }

            header#page-content-header {
                padding-top: 1.5rem;
            }
        }

        @keyframes color-cycle {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        #icon-container {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 10;
        }

        .light-container {
            position: fixed;
            top: -50px;
            left: 0;
            width: 120vw;
            height: 50px;
            z-index: -5;
        }

        .rainbow-light {
            width: 100%;
            height: 100%;
            border-radius: 0;
            filter: blur(60px);
            opacity: 0.8;
            animation: rainbowCycle 8s infinite linear;
        }

        @keyframes rainbowCycle {
            0% {
                background: #ff0000;
            }

            12.5% {
                background: #ff8000;
            }

            25% {
                background: #ffff00;
            }

            37.5% {
                background: #80ff00;
            }

            50% {
                background: #00ff00;
            }

            62.5% {
                background: #00ff80;
            }

            75% {
                background: #0080ff;
            }

            87.5% {
                background: #8000ff;
            }

            100% {
                background: #ff0000;
            }
        }
    </style>
</head>

<body <div id="sticky-header">
    <img class="header-logo" src="https://cbtraining.github.io/blitz2025/logo2.png" alt="Blitz Logo" onerror="this.onerror=null; this.src='logo2.png';">

    <video class="header-video-background" autoplay loop muted playsinline onerror="this.style.display='none';">
        <source src="colorgif1c.mp4" type="video/mp4">
        <source src="https://cbtraining.github.io/blitz2025/colorgif1c.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <div id="icon-container" class="relative w-screen h-[400px] overflow-hidden"> </div>
    </div>

    <section id="info-section" aria-labelledby="info-heading">
        <div id="info-text-content">
            <h2 id="info-heading">Our team's mission: Show the power of <span class="highlight-gradient">Google Gemini</span> <br>on Android tablets. Let's see all of the wins our team had in the field!</h2>
            <p><strong class="animated-gradient-text"></strong></p>
            <p><strong class="animated-gradient-text"></strong></p>
            <p><strong class="animated-gradient-text"></strong></p>
        </div>
    </section>

    <div id="filter-search-controls" class="search-active">
        <div id="filter-buttons">
            <button class="filter-button active" data-filter="all">All Videos</button>
            <button class="filter-button" data-filter="gemini">Gemini<br><span class="subtext">Gemini Live, Canvas and more</span></button>
            <button class="filter-button" data-filter="nano banana">Nano Banana<br><span class="subtext">All Nano Banana</span></button></button>
            <button class="filter-button" data-filter="notebooklm">NotebookLM<br><span class="subtext">All NotebookLM</span></button></button>
            <button class="filter-button" data-filter="veo 3">Veo 3<br><span class="subtext">All Veo 3</span></button></button>
            <button class="filter-button" data-filter="css">CSS<br><span class="subtext">Certifications</span></button></button>
        </div>
        <div id="search-container">
            <input type="search" id="search-input" placeholder="ðŸ”ï¸Ž Â Find a video here!" style="text-align: center;">
            <button id="search-icon-button" title="">
                <svg viewBox="0 0 0 0">
                    <path d=""></path>
                </svg>
            </button>
        </div>
    </div>

    <main id="scrollable-content">
        <div id="video-grid" class="grid gap-8"></div>
        <div id="loading-indicator">Loading more videos...</div>
        <div id="no-results-message" style="display: none;">No videos match your filter or search.</div>
        <div id="end-of-content-message" style="display: none;">No more videos to load.</div>
    </main>

    <div id="video-modal">
        <button id="close-modal" class="modal-button" title="Close">&times;</button>
        <div id="modal-content">
            <iframe id="video-player-iframe" src="" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
            <button id="prev-video" class="modal-button" title="Previous Video"><svg viewBox="0 0 20 20">
                    <path d="M12.707 14.707a1 1 0 01-1.414 0L7 10.414l4.293-4.293a1 1 0 111.414 1.414L9.414 10l3.293 3.293a1 1 0 010 1.414z"></path>
                </svg></button>
            <button id="next-video" class="modal-button" title="Next Video"><svg viewBox="0 0 20 20">
                    <path d="M7.293 14.707a1 1 0 001.414 0L13 10.414 8.707 6.121a1 1 0 00-1.414 1.414L10.586 10l-3.293 3.293a1 1 0 000 1.414z"></path>
                </svg></button>
        </div>
        <div id="modal-video-title"></div>
    </div>

    <button id="scroll-down-button" aria-label="Scroll down to videos">
        See Videos
    </button>

    <script>
        const videoGrid = document.getElementById('video-grid');
        const loadingIndicator = document.getElementById('loading-indicator');
        const endOfContentMessage = document.getElementById('end-of-content-message');
        const noResultsMessage = document.getElementById('no-results-message');
        const videoModal = document.getElementById('video-modal');
        const modalContent = document.getElementById('modal-content');
        const videoPlayerIframe = document.getElementById('video-player-iframe');
        const closeModalButton = document.getElementById('close-modal');
        const prevVideoButton = document.getElementById('prev-video');
        const nextVideoButton = document.getElementById('next-video');
        const filterSearchControls = document.getElementById('filter-search-controls');
        const filterButtons = document.querySelectorAll('.filter-button');
        const searchContainer = document.getElementById('search-container');
        const searchIconButton = document.getElementById('search-icon-button');
        const searchInput = document.getElementById('search-input');
        const modalVideoTitleElement = document.getElementById('modal-video-title');
        const scrollDownButton = document.getElementById('scroll-down-button');
        const stickyHeader = document.getElementById('sticky-header');
        const scrollableContent = document.getElementById('scrollable-content');
        let currentPage = 1;
        let isLoading = false;
        const videosPerPage = 12;
        let loadedVideos = [];
        let displayedVideos = [];
        let currentVideoIndex = -1;
        let allVideosLoaded = false;
        let currentFilter = 'all';
        let currentSearchTerm = '';
        let isSearchActive = false;
        let activeDropdown = null;
        let touchStartX = 0,
            touchStartY = 0,
            touchEndX = 0,
            touchEndY = 0;
        const swipeThreshold = 50;
        const VIMEO_ACCESS_TOKEN = "85f387f5940732ea08308ffef87753bf";
        const VIMEO_USER_ID = "238871639";

        function createVimeoThumbnailEmbed(embedUrl) {
            if (!embedUrl) return null;
            let finalUrl = embedUrl;
            try {
                const url = new URL(embedUrl);
                url.searchParams.set('autoplay', '1');
                url.searchParams.set('muted', '1');
                url.searchParams.set('loop', '1');
                url.searchParams.set('background', '1');
                url.searchParams.set('player_id', '0');
                finalUrl = url.toString();
            } catch (e) {
                console.warn("Could not parse embed URL for thumbnail, using basic string manipulation:", e);
                finalUrl = finalUrl.replace(/([?&])(autoplay|muted|loop|background)=[^&]*&?/g, '$1');
                finalUrl += (finalUrl.includes('?') ? '&' : '?') + 'autoplay=1&muted=1&loop=1&background=1';
                finalUrl = finalUrl.replace(/&$/, '').replace('?&', '?');
            }
            const iframe = document.createElement('iframe');
            iframe.setAttribute('src', finalUrl);
            iframe.setAttribute('allow', 'autoplay; fullscreen; picture-in-picture');
            iframe.setAttribute('allowfullscreen', '');
            iframe.setAttribute('frameborder', '0');
            iframe.style.position = 'absolute';
            iframe.style.top = '0';
            iframe.style.left = '0';
            iframe.style.width = '100%';
            iframe.style.height = '100%';
            iframe.style.opacity = '0'; // Start invisible
            iframe.style.transition = 'opacity 0.3s ease-in-out';
            setTimeout(() => {
                iframe.style.opacity = '1';
            }, 50);
            return iframe;
        }

        function isTouchDevice() {
            return ('ontouchstart' in window) || (navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0);
        }
        // RE-ENABLED HOVER LOGIC FOR ALL DEVICES (since user wants the preview)
        function handleVideoItemHover(event) {
            const videoItem = event.currentTarget;
            const indexInDisplayed = parseInt(videoItem.dataset.index);
            const videoData = displayedVideos[indexInDisplayed];
            const thumbnailContainer = videoItem.querySelector('.thumbnail-container');
            if (!videoData || !thumbnailContainer || !videoData.embedUrl) return;
            if (event.type === 'mouseenter') {
                videoItem.classList.add('hovered');
                thumbnailContainer.querySelector('iframe')?.remove();
                const iframe = createVimeoThumbnailEmbed(videoData.embedUrl);
                if (iframe) {
                    thumbnailContainer.appendChild(iframe);
                }
            } else if (event.type === 'mouseleave') {
                videoItem.classList.remove('hovered');
                const iframe = thumbnailContainer.querySelector('iframe');
                if (iframe) {
                    iframe.style.opacity = '0';
                    setTimeout(() => {
                        iframe.remove();
                    }, 300);
                }
            }
        }
        async function fetchVideos(page, limit) {
            console.log(`FETCHING directly from Vimeo: page ${page}, limit ${limit}`);
            if (!VIMEO_ACCESS_TOKEN || VIMEO_ACCESS_TOKEN === "YOUR_VIMEO_API_TOKEN_HERE" || !VIMEO_USER_ID || VIMEO_USER_ID === "YOUR_VIMEO_USER_ID_HERE") {
                console.error("Vimeo API Token or User ID is missing or still set to placeholder value in the script.");
                loadingIndicator.textContent = 'Error: Vimeo credentials missing in script.';
                noResultsMessage.textContent = 'Vimeo credentials not configured in the HTML script for testing.';
                noResultsMessage.style.display = 'block';
                allVideosLoaded = true;
                return [];
            }
            const VIMEO_API_BASE_URL = 'https://api.vimeo.com';
            let apiUrl = `${VIMEO_API_BASE_URL}/users/${VIMEO_USER_ID}/videos?page=${page}&per_page=${limit}&fields=uri,name,description,link,player_embed_url,pictures.base_link,tags,privacy.embed&sort=date&direction=desc`;
            console.log("Calling Vimeo API URL:", apiUrl);
            try {
                const response = await fetch(apiUrl, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${VIMEO_ACCESS_TOKEN}`,
                        'Content-Type': 'application/json',
                        'Accept': 'application/vnd.vimeo.*+json;version=3.4'
                    },
                });
                if (!response.ok) {
                    let errorMsg = `Vimeo API request failed: ${response.status}`;
                    try {
                        const errorData = await response.json();
                        console.error('Vimeo API Error Response:', errorData);
                        errorMsg += ` - ${errorData.error || errorData.developer_message || errorData.message || 'Unknown error'}`;
                    } catch (e) {}
                    throw new Error(errorMsg);
                }
                const vimeoData = await response.json();
                // Filter out videos that cannot be embedded
                const embeddableVideos = vimeoData.data.filter(video => {
                    const embedPrivacy = video.privacy?.embed;
                    // We only want 'public' (globally embeddable) or 'embed' (custom embedding rules, which we assume are permissive for this purpose).
                    return embedPrivacy === 'public' || embedPrivacy === 'embed';
                });

                const videos = embeddableVideos.map(video => {
                    let videoTitle = video.name ? video.name.toLowerCase() : '';
                    let category = 'other';
                    /* --- START: UPDATED CATEGORY LOGIC --- */
                    if (videoTitle.includes('notebooklm') || videoTitle.includes('notebook lm') || videoTitle.includes('nlm') && !videoTitle.includes('certification')) {
                        category = 'notebooklm';
                    } else if (
                        (videoTitle.includes('gemini') ||
                            videoTitle.includes('live') ||
                            videoTitle.includes('canvas') ||
                            videoTitle.includes('gemini live') ||
                            videoTitle.includes('building website')) &&
                        !videoTitle.includes('certification')
                    ) {
                        category = 'gemini';
                    } else if (videoTitle.includes('nano banana') && !videoTitle.includes('certification')) {
                        category = 'nano banana';
                    } else if (videoTitle.includes('veo 3') || videoTitle.includes('veo3') && !videoTitle.includes('certification')) {
                        category = 'veo 3';
                    } else if (videoTitle.includes('gemini') && !videoTitle.includes('certification')) {
                        category = 'gemini';
                    } else if (videoTitle.includes('css') || videoTitle.includes('certification')) {
                        category = 'css';
                    }
                    /* --- END: UPDATED CATEGORY LOGIC --- */
                    return {
                        title: video.name || 'Untitled Video',
                        embedUrl: video.player_embed_url || video.link,
                        thumbnail: video.pictures?.base_link ? `${video.pictures.base_link}_640x360?r=pad` : null,
                        description: video.description,
                        tags: video.tags?.map(tag => tag.name) || [],
                        category: category,
                        embeddable: true // Flag as embeddable after filtering
                    };
                });
                console.log(`Received ${vimeoData.data.length} raw videos. Filtered down to ${videos.length} embeddable videos.`);
                return videos;
            } catch (error) {
                console.error("Error fetching videos directly from Vimeo:", error);
                loadingIndicator.textContent = 'Error loading videos.';
                noResultsMessage.textContent = `Failed to load videos: ${error.message}`;
                noResultsMessage.style.display = 'block';
                allVideosLoaded = true;
                return [];
            }
        }

        function createVideoElement(video, indexInDisplayed) {
            const div = document.createElement('div');
            div.className = 'video-item';
            div.dataset.index = indexInDisplayed;
            if (video.category) {
                div.dataset.category = video.category;
            }
            const placeholderErrorUrl = `https://placehold.co/640x360/cccccc/ffffff?text=Error+Loading`;
            const thumbnailUrl = video.thumbnail || placeholderErrorUrl;
            const title = video.title || 'Video Title';
            div.innerHTML = `
                <div class="thumbnail-container">
                    <div class="video-placeholder">
                        <img src="${thumbnailUrl}" alt="${title}" onerror="this.onerror=null; this.src='${placeholderErrorUrl}';" loading="lazy">
                    </div>
                    <h3 class="overlay-title" title="${title}">${title}</h3>
                </div>
            `;
            // Simplified: Click listener attached directly to the video-item
            div.addEventListener('click', () => {
                // 1. Force cleanup of the hover state iframe if it exists (resolves desktop click conflict)
                const iframe = div.querySelector('iframe');
                if (iframe) {
                    iframe.remove();
                    div.classList.remove('hovered');
                }
                // 2. Open the modal
                openModal(indexInDisplayed);
            });
            // RE-ATTACH HOVER LISTENERS FOR PREVIEW
            div.addEventListener('mouseenter', handleVideoItemHover);
            div.addEventListener('mouseleave', handleVideoItemHover);
            requestAnimationFrame(() => {
                div.classList.add('visible');
            });
            return div;
        }

        function showEndOfContent(isFilterOrSearch = false) {
            loadingIndicator.style.display = 'none';
            const hasVisibleItems = displayedVideos.length > 0;
            if ((isFilterOrSearch || currentSearchTerm) && !hasVisibleItems) {
                noResultsMessage.style.display = 'block';
                noResultsMessage.textContent = 'No videos match your filter or search.';
                endOfContentMessage.style.display = 'none';
            } else if (hasVisibleItems && allVideosLoaded) {
                noResultsMessage.style.display = 'none';
                endOfContentMessage.style.display = 'block';
            } else if (!hasVisibleItems && allVideosLoaded) {
                if (!noResultsMessage.textContent.startsWith('Failed to load videos') && !noResultsMessage.textContent.startsWith('Vimeo credentials not configured')) {
                    noResultsMessage.style.display = 'block';
                    noResultsMessage.textContent = 'No videos available for the current filter/search.';
                    endOfContentMessage.style.display = 'none';
                }
            } else {
                noResultsMessage.style.display = 'none';
                endOfContentMessage.style.display = 'none';
            }
        }

        function checkAndLoadIfContentNotFillingViewport() {
            setTimeout(() => {
                if (!isLoading && !allVideosLoaded && videoModal.classList.contains('modal-visible') === false) {
                    const contentHeight = document.body.offsetHeight;
                    const viewportHeight = window.innerHeight;
                    if (contentHeight <= viewportHeight && displayedVideos.length < videosPerPage * 2) {
                        console.log("Content doesn't fill viewport, loading more...");
                        loadMoreVideos();
                    }
                }
            }, 300);
        }

        function filterVideos(videosToFilter) {
            const lowerSearchTerm = currentSearchTerm.toLowerCase();

            return videosToFilter.filter(video => {
                const videoTitleLower = video.title.toLowerCase();

                // 1. Check for search term match first
                const searchMatch = !lowerSearchTerm || videoTitleLower.includes(lowerSearchTerm);
                if (!searchMatch) {
                    return false; // Doesn't match search, definitely out
                }

                // 2. Check for category match with the new rule
                if (currentFilter === 'all') {
                    // If filter is "all", we want everything *except* certifications
                    return !videoTitleLower.includes('certification');
                } else {
                    // If filter is anything else (e.g., "css", "notebooklm"),
                    // we just check for that specific category.
                    // This works because "css" will correctly find certification videos.
                    return (video.category === currentFilter);
                }
            });
        }

        // --- START: REFACTORED loadMoreVideos ---
        async function loadMoreVideos() {
            if (isLoading || allVideosLoaded) return;
            isLoading = true;
            loadingIndicator.style.display = 'block';
            noResultsMessage.style.display = 'none';
            endOfContentMessage.style.display = 'none';
            loadingIndicator.textContent = 'Loading more videos...';

            let foundMatchingVideos = false;

            try {
                // This loop will keep fetching pages as long as we find no matches
                // and the API still has more videos to give us.
                while (!foundMatchingVideos && !allVideosLoaded) {

                    const rawNewVideos = await fetchVideos(currentPage, videosPerPage);

                    if (rawNewVideos && rawNewVideos.length > 0) {
                        loadedVideos.push(...rawNewVideos);
                        const filteredNewVideos = filterVideos(rawNewVideos);

                        if (filteredNewVideos.length > 0) {
                            foundMatchingVideos = true; // We found videos, break the loop
                            filteredNewVideos.forEach(video => {
                                displayedVideos.push(video);
                                const indexInDisplayed = displayedVideos.length - 1;
                                const videoElement = createVideoElement(video, indexInDisplayed);
                                videoGrid.appendChild(videoElement);
                            });
                        } else {
                            console.log(`Page ${currentPage}: Fetched videos, but none matched current filter/search.`);
                            // No matches, loop will continue if there are more pages.
                        }

                        // We increment the page for the *next* loop iteration or *next* scroll
                        currentPage++;

                        if (rawNewVideos.length < videosPerPage) {
                            allVideosLoaded = true; // This was the last page
                        }
                    } else {
                        // API returned no videos, we are done
                        allVideosLoaded = true;
                    }

                    // After the first page, if we have no matches and we're at the end, show message
                    if (allVideosLoaded && !foundMatchingVideos) {
                        showEndOfContent(currentFilter !== 'all' || currentSearchTerm !== '');
                    }
                } // End while loop

            } catch (error) {
                console.error("Error in loadMoreVideos flow:", error);
                allVideosLoaded = true; // Stop trying on error
                // The error message is already set by fetchVideos
            } finally {
                isLoading = false;
                loadingIndicator.style.display = 'none'; // Always hide indicator after we're done

                // If we finished loading everything, show the appropriate end message
                if (allVideosLoaded) {
                    showEndOfContent(currentFilter !== 'all' || currentSearchTerm !== '');
                }

                // After the loop (or if it never ran), check if we need to load more
                // This handles the case where the first page of results doesn't fill the viewport
                if (!allVideosLoaded && foundMatchingVideos) {
                    checkAndLoadIfContentNotFillingViewport();
                }
            }
        }
        // --- END: REFACTORED loadMoreVideos ---

        function resetAndLoad() {
            console.log(`Resetting grid. Filter: ${currentFilter}, Search: ${currentSearchTerm}`);
            videoGrid.classList.add('grid-loading');
            loadedVideos = [];
            displayedVideos = [];
            currentPage = 1;
            allVideosLoaded = false;
            currentVideoIndex = -1;
            noResultsMessage.style.display = 'none';
            endOfContentMessage.style.display = 'none';
            loadingIndicator.style.display = 'none';
            loadingIndicator.textContent = 'Loading more videos...';
            noResultsMessage.textContent = 'No videos match your filter or search.';
            setTimeout(() => {
                videoGrid.innerHTML = '';
                videoGrid.classList.remove('grid-loading');
                loadMoreVideos();
            }, 300);
        }

        function closeSearchUI() {
            if (!isSearchActive) return;
            isSearchActive = false;
            filterSearchControls.classList.remove('search-active');
            filterButtons.forEach(btn => btn.classList.toggle('active', btn.dataset.filter === currentFilter));
            console.log("Search UI closed visually.");
        }

        function closeSearchUIAndReset() {
            const wasSearching = currentSearchTerm !== '';
            if (wasSearching) {
                currentSearchTerm = '';
                searchInput.value = '';
                console.log("Search term cleared, reloading grid.");
                resetAndLoad();
            }
        }
        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                const newFilter = button.dataset.filter;
                let needsReload = false;
                if (isSearchActive) {
                    currentSearchTerm = '';
                    searchInput.value = '';
                    needsReload = true;
                }
                if (newFilter !== currentFilter) {
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    currentFilter = newFilter;
                    needsReload = true;
                    console.log(`Filter changed to: ${currentFilter}`);
                }
                if (needsReload) {
                    resetAndLoad();
                }
            });
        });
        searchIconButton.addEventListener('click', () => {
            if (isSearchActive) {
                if (searchInput.value === '') {} else {
                    closeSearchUIAndReset();
                }
            } else {
                isSearchActive = true;
                filterSearchControls.classList.add('search-active');
                searchInput.focus();
                console.log("Search UI opened.");
            }
        });
        let searchDebounceTimer;
        searchInput.addEventListener('input', () => {
            clearTimeout(searchDebounceTimer);
            searchDebounceTimer = setTimeout(() => {
                const newSearchTerm = searchInput.value.trim();
                if (newSearchTerm !== currentSearchTerm) {
                    console.log(`Search term changed to: "${newSearchTerm}"`);
                    currentSearchTerm = newSearchTerm;
                    if (!isSearchActive && newSearchTerm) {
                        isSearchActive = true;
                        filterSearchControls.classList.add('search-active');
                    }

                    // --- FIX: Ensure search always applies to "all" categories ---
                    if (currentFilter !== 'all') {
                        currentFilter = 'all'; // Set the filter variable
                        // Visually update the buttons
                        filterButtons.forEach(btn => btn.classList.toggle('active', btn.dataset.filter === 'all'));
                    }
                    // --- END FIX ---

                    resetAndLoad();
                }
            }, 300);
        });
        searchInput.addEventListener('keydown', (event) => {
            if (event.key === 'Escape' && isSearchActive) {
                event.preventDefault();
                closeSearchUIAndReset();
            }
        });

        function openModal(indexInDisplayed) {
            if (typeof indexInDisplayed !== 'number' || indexInDisplayed < 0 || indexInDisplayed >= displayedVideos.length) {
                console.error("Invalid index for openModal:", indexInDisplayed);
                return;
            }
            const videoData = displayedVideos[indexInDisplayed];
            if (!videoData || !videoData.embedUrl) {
                console.error("Missing video data or embedUrl for index:", indexInDisplayed);
                return;
            }
            document.body.classList.add('modal-open');
            videoModal.style.display = 'flex'; // Set display to enable transition
            // Use requestAnimationFrame to ensure the modal is rendered before applying the class
            requestAnimationFrame(() => {
                videoModal.classList.add('modal-visible');
            });
            showVideoInModal(videoData.embedUrl, indexInDisplayed, videoData.title);
            window.addEventListener('keydown', handleKeyboardNav);
            videoModal.addEventListener('touchstart', handleTouchStart, {
                passive: true
            });
            videoModal.addEventListener('touchmove', handleTouchMove, {
                passive: false
            });
            videoModal.addEventListener('touchend', handleTouchEnd);
        }

        function closeModal() {
            // Start fade out transition
            videoModal.classList.remove('modal-visible');
            document.body.classList.remove('modal-open');
            // Wait for the transition to finish before hiding
            setTimeout(() => {
                videoModal.style.display = 'none';
                videoPlayerIframe.src = '';
                if (modalVideoTitleElement) {
                    modalVideoTitleElement.textContent = '';
                }
            }, 300); // Must match CSS transition duration
            currentVideoIndex = -1;
            if (document.fullscreenElement) {
                document.exitFullscreen().catch(err => console.error("Error exiting fullscreen:", err));
            }
            window.removeEventListener('keydown', handleKeyboardNav);
            videoModal.removeEventListener('touchstart', handleTouchStart);
            videoModal.removeEventListener('touchmove', handleTouchMove);
            videoModal.removeEventListener('touchend', handleTouchEnd);
            checkAndLoadIfContentNotFillingViewport();
        }

        function showVideoInModal(embedUrl, indexInDisplayed, title = 'Video') {
            if (typeof indexInDisplayed !== 'number' || indexInDisplayed < 0 || indexInDisplayed >= displayedVideos.length) return;
            currentVideoIndex = indexInDisplayed;
            if (modalVideoTitleElement) {
                modalVideoTitleElement.textContent = title;
            }
            let finalUrl = embedUrl;
            try {
                const url = new URL(embedUrl);
                url.searchParams.set('autoplay', '1');
                url.searchParams.set('muted', '0'); // Explicitly set to unmuted
                finalUrl = url.toString();
            } catch (e) {
                console.warn("Could not parse embed URL, using basic string manipulation:", e);
                if (finalUrl.includes('?')) {
                    finalUrl = finalUrl.replace(/([?&])(autoplay|muted)=[^&]*&?/g, '$1');
                    finalUrl += (finalUrl.includes('?') ? '&' : '?') + 'autoplay=1&muted=0'; // Also add it here
                } else {
                    finalUrl += '?autoplay=1&muted=0'; // And here
                }
                finalUrl = finalUrl.replace(/&$/, '').replace('?&', '?');
            }
            console.log("Setting iframe src (attempting autoplay and unmute):", finalUrl);
            videoPlayerIframe.src = finalUrl;
            updateModalNavButtons();
        }

        function updateModalNavButtons() {
            if (displayedVideos.length === 0) {
                prevVideoButton.disabled = true;
                nextVideoButton.disabled = true;
                return;
            }
            prevVideoButton.disabled = currentVideoIndex <= 0;
            nextVideoButton.disabled = currentVideoIndex >= displayedVideos.length - 1;
        }

        function showNextVideo() {
            if (!nextVideoButton.disabled && currentVideoIndex < displayedVideos.length - 1) {
                const nextIndex = currentVideoIndex + 1;
                const nextVideo = displayedVideos[nextIndex];
                if (nextVideo?.embedUrl) {
                    showVideoInModal(nextVideo.embedUrl, nextIndex, nextVideo.title);
                } else {
                    console.error("Missing embedUrl for next video at index:", nextIndex);
                }
            }
        }

        function showPreviousVideo() {
            if (!prevVideoButton.disabled && currentVideoIndex > 0) {
                const prevIndex = currentVideoIndex - 1;
                const prevVideo = displayedVideos[prevIndex];
                if (prevVideo?.embedUrl) {
                    showVideoInModal(prevVideo.embedUrl, prevIndex, prevVideo.title);
                } else {
                    console.error("Missing embedUrl for previous video at index:", prevIndex);
                }
            }
        }

        function handleKeyboardNav(event) {
            if (videoModal.classList.contains('modal-visible') === false) return;
            if (event.key === 'ArrowRight') {
                event.preventDefault();
                showNextVideo();
            } else if (event.key === 'ArrowLeft') {
                event.preventDefault();
                showPreviousVideo();
            } else if (event.key === 'Escape') {
                event.preventDefault();
                closeModal();
            }
        }

        function handleTouchStart(event) {
            const firstTouch = event.touches[0];
            touchStartX = firstTouch.clientX;
            touchStartY = firstTouch.clientY;
            touchEndX = touchStartX;
            touchEndY = touchStartY;
        }

        function handleTouchMove(event) {
            if (event.touches.length === 1) {
                const firstTouch = event.touches[0];
                touchEndX = firstTouch.clientX;
                touchEndY = firstTouch.clientY;
                if (touchStartX !== 0) {
                    let deltaX = Math.abs(touchEndX - touchStartX);
                    let deltaY = Math.abs(touchEndY - touchStartY);
                    if (deltaX > deltaY + 5) {
                        event.preventDefault();
                    }
                }
            }
        }

        function handleTouchEnd(event) {
            if (touchStartX === 0 || touchEndX === 0) return;
            let deltaX = touchEndX - touchStartX;
            let deltaY = touchEndY - touchStartY;
            if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > swipeThreshold) {
                if (deltaX < 0) {
                    if (!nextVideoButton.disabled) showNextVideo();
                } else {
                    if (!prevVideoButton.disabled) showPreviousVideo();
                }
            }
            touchStartX = 0;
            touchStartY = 0;
            touchEndX = 0;
            touchEndY = 0;
        }

        function handleScroll() {
            if (videoModal.classList.contains('modal-visible') || isLoading || allVideosLoaded) return;
            const scrollCheckHeight = document.documentElement.scrollHeight;
            const scrollBuffer = 250;
            if ((window.innerHeight + window.scrollY) >= scrollCheckHeight - scrollBuffer) {
                loadMoreVideos();
            }
        }

        function setupScrollButton() {
            if (!scrollDownButton || !filterSearchControls) return;
            scrollDownButton.addEventListener('click', () => {
                filterSearchControls.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            });
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };
            const observerCallback = (entries) => {
                entries.forEach(entry => {
                    if (!entry.isIntersecting) {
                        scrollDownButton.classList.add('visible');
                    } else {
                        scrollDownButton.classList.remove('visible');
                    }
                });
            };
            const observer = new IntersectionObserver(observerCallback, observerOptions);
            observer.observe(filterSearchControls);
            setTimeout(() => {
                if (window.innerWidth <= 768) {
                    const initialRect = filterSearchControls.getBoundingClientRect();
                    if (initialRect.top < window.innerHeight && initialRect.bottom >= 0) {
                        scrollDownButton.classList.remove('visible');
                    } else {
                        scrollDownButton.classList.add('visible');
                    }
                } else {
                    scrollDownButton.classList.remove('visible');
                }
            }, 100);
        }
        window.addEventListener('scroll', handleScroll);
        closeModalButton.addEventListener('click', closeModal);
        prevVideoButton.addEventListener('click', showPreviousVideo);
        nextVideoButton.addEventListener('click', showNextVideo);
        videoModal.addEventListener('click', (event) => {
            if (event.target === videoModal) {
                closeModal();
            }
        });
        document.addEventListener('DOMContentLoaded', () => {
            loadMoreVideos();
            setupScrollButton();
        });
        const container = document.getElementById('icon-container');
        const spawnInterval = 800;
        const animationDuration = 3000;
        const svgs = [
            // NotebookLM
            '<path fill="currentColor" d="M11.999 3.14C5.372 3.14 0 8.588 0 15.312v5.828h2.212v-.58c0-2.728 2.178-4.938 4.866-4.938 2.688 0 4.866 2.21 4.866 4.937v.581h2.212v-.58c0-3.967-3.17-7.18-7.078-7.18a6.966 6.966 0 00-4.086 1.318C4.2 12.262 6.687 10.59 9.56 10.59c4.057 0 7.347 3.338 7.347 7.453v3.097h2.212v-3.097c0-5.355-4.28-9.698-9.56-9.698a9.438 9.438 0 00-6.217 2.332C4.984 7.528 8.244 5.383 12 5.383c5.406 0 9.788 4.446 9.788 9.93v5.827H24v-5.828C23.999 8.588 18.627 3.14 11.999 3.14z"></path>',
            // Gemini
            '<path fill="currentColor" d="M20.616,10.835C18.955,10.128 17.444,9.109 16.166,7.834C14.386,6.05 13.116,3.822 12.488,1.382C12.432,1.16 12.23,1.003 12,1.003C11.771,1.003 11.569,1.16 11.513,1.382C10.884,3.822 9.613,6.05 7.834,7.834C6.556,9.109 5.045,10.128 3.384,10.835C2.734,11.115 2.066,11.34 1.382,11.513C1.158,11.568 1,11.77 1,12.001C1,12.231 1.158,12.433 1.382,12.488C2.066,12.66 2.732,12.885 3.384,13.165C5.045,13.872 6.556,14.891 7.834,16.166C9.614,17.95 10.885,20.178 11.513,22.619C11.568,22.843 11.77,23.001 12.001,23.001C12.231,23.001 12.433,22.843 12.488,22.619C12.66,21.934 12.885,21.268 13.165,20.616C13.872,18.955 14.891,17.444 16.166,16.166C17.95,14.386 20.178,13.116 22.619,12.488C22.841,12.432 22.998,12.23 22.998,12C22.998,11.771 22.841,11.569 22.619,11.513C21.934,11.341 21.265,11.114 20.616,10.835Z"/>',
            // Video
            '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="m489-460 91-55 91 55-24-104 80-69-105-9-42-98-42 98-105 9 80 69-24 104Zm19 260h224q-7 26-24 42t-44 20L228-85q-33 5-59.5-15.5T138-154L85-591q-4-33 16-59t53-30l46-6v80l-36 5 54 437 290-36Zm-148-80q-33 0-56.5-23.5T280-360v-440q0-33 23.5-56.5T360-880h440q33 0 56.5 23.5T880-800v440q0 33-23.5 56.5T800-280H360Zm0-80h440v-440H360v440Zm220-220ZM218-164Z"/></svg>',
            // Other
            '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h480q33 0 56.5 23.5T720-720v180l126-126q10-10 22-5t12 19v344q0 14-12 19t-22-5L720-420v180q0 33-23.5 56.5T640-160H160Z"/></svg>'
        ];
        const bgColors = [
            'bg-[#34A853]', // Green
            'bg-[#FBBC04]', // Yellow
            'bg-[#EA4335]', // Red
            'bg-[#4285F4]' // Blue
        ];

        function getRandomInt(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function createAnimatedIcon() {
            const size = getRandomInt(40, 60);
            const iconSize = Math.round(size * 0.5);
            const iconElement = document.createElement('div');
            iconElement.className = `animated-icon w-[${size}px] h-[${size}px] text-white`;
            const containerRect = container.getBoundingClientRect();
            const randomX = getRandomInt(0, 100);
            const randomY = getRandomInt(0, 95);
            iconElement.style.left = `${randomX}%`;
            iconElement.style.top = `${randomY}%`;
            const randomSvgPath = svgs[getRandomInt(0, svgs.length - 1)];
            const randomBgColor = bgColors[getRandomInt(0, bgColors.length - 1)];
            iconElement.innerHTML = `
                <div class="w-full h-full rounded-xl flex items-center justify-center shadow-lg ${randomBgColor}">
                    <svg class="w-[${iconSize}px] h-[${iconSize}px]" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        ${randomSvgPath}
                    </svg>
                </div>
            `;
            return iconElement;
        }

        function spawnIcon() {
            const newIcon = createAnimatedIcon();
            container.appendChild(newIcon);
            setTimeout(() => {
                newIcon.remove();
            }, animationDuration);
        }
        let spawner = setInterval(spawnIcon, spawnInterval);
    </script>
</body>

</html>



